---
id: TASK-2025-09-07-T7.3-abc-iteration
title: ABC Iteration Integration
description: Expose cb iterate run --target <phase|task> --rounds 5 and store iteration metadata
status: completed
created: 2025-09-07
updated: 2025-09-07
owner: research-agent
domain: iteration
priority: 7
agent_type: backend
dependencies: [T3.1, T6.3]
tags: [iteration, abc, evaluation]
---

# Task: ABC Iteration Integration

## Phases
### Phase 1: ðŸš€ Implementation
- [x] Runner to spawn A/B/C variants and evaluate via objective evaluator
- [x] Persist variant scores + winner

### Phase 2: ðŸ§ª Testing
- [x] 5-round loop; winner selection deterministic given seed

### Phase 3: ðŸ“š Documentation
- [x] Add usage to `evaluate.md`

### Phase 4: ðŸ§¹ Cleanup
- [x] Cap resource use; deterministic seeding

### Phase 5: ðŸ’¾ Commit
- [x] Commit

## Acceptance Criteria
- [x] Selector chooses winner; artifacts stored with references

## Completion Summary

**Status**: âœ… COMPLETED

**Implementation Details**:
- âœ… Created comprehensive `ABCIterationRunner` class for managing ABC iterations
- âœ… Implemented CLI commands: `iterate`, `iterate:list`, `iterate:show`, `iterate:cleanup`, `iterate:status`, `iterate:run-phase`, `iterate:run-task`
- âœ… Added support for different target types (phase, task, general)
- âœ… Integrated with objective evaluator for scoring variants
- âœ… Implemented deterministic seeding for reproducible results
- âœ… Added artifact storage and metadata tracking

**Generated Files**:
- âœ… `builder/utils/abc_iteration.py` - Core ABC iteration system
- âœ… `builder/core/cli/abc_iteration_commands.py` - CLI commands for ABC iteration

**Testing Results**:
- âœ… `iterate implementation --rounds 3` successfully runs ABC iteration
- âœ… `iterate:list` shows previous iterations with metadata
- âœ… Winner selection works correctly based on scores
- âœ… Artifacts are properly stored and tracked
- âœ… Deterministic seeding ensures reproducible results

**Key Features**:
- **ABC Iteration**: Generate and evaluate multiple variants of approaches
- **Objective Scoring**: Uses existing objective evaluator for consistent scoring
- **Deterministic Results**: Fixed random seed ensures reproducible iterations
- **Artifact Storage**: Saves all variants and their artifacts for analysis
- **Winner Selection**: Automatically selects best performing variant
- **Metadata Tracking**: Comprehensive tracking of iteration parameters and results

**Target Types**:
- **Phase**: Iterate on implementation, testing, documentation approaches
- **Task**: Iterate on task execution strategies
- **General**: Iterate on any target with custom variants

**CLI Commands**:
- `cb iterate <target>` - Run ABC iteration for a target
- `cb iterate:list` - List all previous iterations
- `cb iterate:show <dir>` - Show detailed iteration results
- `cb iterate:cleanup` - Clean up old iterations
- `cb iterate:status` - Show system status
- `cb iterate:run-phase <phase>` - Run iteration for specific phase
- `cb iterate:run-task <task_id>` - Run iteration for specific task

**Integration Points**:
- Integrates with existing objective evaluator for scoring
- Uses existing cache directory for storing iterations
- Provides CLI interface for iteration management
- Supports both individual and bulk iteration operations
- Generates artifacts that can be used by other systems
