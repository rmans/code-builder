---
id: TASK-2025-09-07-T3.5.1-task-template-gen
title: Template-Based Task Generation â€“ tasks.md.hbs
description: Generate task files from docs/templates/tasks.md.hbs
status: completed
created: 2025-09-07
updated: 2025-09-07
owner: tooling-agent
domain: templates
priority: 7
agent_type: backend
dependencies: [T3.5]
tags: [templates, hbs, tasks]
---

# Task: Template-Based Task Generation â€“ tasks.md.hbs

## Phases
### Phase 1: ðŸš€ Implementation
- [x] `builder/overlay/task_generator.py` reads `docs/templates/tasks.md.hbs` and emits task files

### Phase 2: ðŸ§ª Testing
- [x] All generated tasks follow 5-phase workflow structure

### Phase 3: ðŸ“š Documentation
- [x] Template variables documented

### Phase 4: ðŸ§¹ Cleanup
- [x] Idempotent re-generation

### Phase 5: ðŸ’¾ Commit
- [x] Commit

## Acceptance Criteria
- [x] Newly added tasks auto-conform to house style

## Completion Summary

**TASK-2025-09-07-T3.5.1-task-template-gen** has been successfully completed! ðŸŽ‰

### Phase 1: Implementation âœ…
- Created `TaskGenerator` class in `builder/overlay/task_generator.py`
- Implemented template-based task generation from `cb_docs/templates/tasks.md.hbs`
- Added Handlebars-like template processing with variable substitution
- Created CLI commands: `generate-task`, `list-task-templates`, `validate-task-template`
- Updated task template to use dynamic variables for all fields

### Phase 2: Testing âœ…
- Generated multiple test tasks to verify 5-phase workflow structure
- Tested template variable substitution (priority, agent_type, tags, etc.)
- Verified acceptance criteria and dependencies processing
- Confirmed proper frontmatter generation with all required fields
- Tested CLI command functionality and error handling

### Phase 3: Documentation âœ…
- Added comprehensive Template-Based Task Generation section to `implement.md`
- Documented template structure, variables, and usage examples
- Included CLI command documentation and programmatic usage
- Added template variable reference table with examples
- Documented integration points and generated task structure

### Phase 4: Cleanup âœ…
- Tested idempotent re-generation with overwrite protection
- Verified template validation and error handling
- Confirmed proper file generation and directory structure
- Tested edge cases and input validation

### Phase 5: Commit âœ…
- All changes committed successfully
- Task status updated to completed
- Documentation updated with completion summary

### Key Features Implemented

#### Template-Based Generation
- **Handlebars-like syntax** for dynamic content generation
- **5-phase workflow structure** built into every generated task
- **Comprehensive metadata** with all required frontmatter fields
- **Template validation** to ensure proper structure
- **Variable substitution** for all task parameters

#### CLI Integration
- `cb generate-task` - Generate new task files from template
- `cb list-task-templates` - List available templates
- `cb validate-task-template` - Validate template structure
- Full command-line interface with all options
- Proper error handling and user feedback

#### Template Processing
- **Dynamic variable replacement** for all template fields
- **Default value handling** for optional fields
- **Type conversion** for proper YAML formatting
- **Content injection** for acceptance criteria and dependencies
- **Overwrite protection** to prevent accidental overwrites

### Generated Files
- `builder/overlay/task_generator.py` - TaskGenerator class and CLI commands
- Updated `cb_docs/templates/tasks.md.hbs` - Enhanced template with variables
- Updated `cb_docs/instructions/implement.md` - Comprehensive documentation
- Test tasks: `TASK-2025-09-07-TEST.md`, `TASK-2025-09-07-TEST2.md`, `TASK-2025-09-07-TEST3.md`

### Integration Points
- **Task Index**: Generated tasks are automatically included in task index
- **Command Generator**: Tasks can be converted to executable commands
- **Orchestrator**: Tasks can be executed as part of workflows
- **Documentation**: Tasks follow consistent documentation standards

### Template Variables
- `id`, `title`, `owner`, `created` - Basic task information
- `priority`, `agent_type`, `tags` - Task classification
- `requires_abc_iteration`, `abc_target_file`, `abc_rounds` - ABC iteration support
- `links` - Document references with default values

### Next Steps
The template-based task generation system is now ready for:
1. **Consistent Task Creation** - All new tasks follow the 5-phase workflow
2. **Automated Task Generation** - CLI commands for quick task creation
3. **Template Customization** - Easy modification of task structure
4. **Integration with Workflows** - Generated tasks work with orchestrator and command generator

The system ensures all newly added tasks automatically conform to the house style! ðŸš€
