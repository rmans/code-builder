---
id: TASK-2025-09-07-T5.1-task-runner
title: Execute-Task â€“ Single Task Runner
description: Thin facade over task_orchestrator to run/pick one task and report result
status: completed
created: 2025-09-07
updated: 2025-09-07
owner: backend-agent
domain: orchestrator
priority: 8
agent_type: backend
dependencies: [T4.1]
tags: [single-task, picker, retries]
---

# Task: Execute-Task â€“ Single Task Runner

## Phases
### Phase 1: ðŸš€ Implementation
- [x] Args: `<TASK_ID>` or `--pick`
- [x] Flags: `--retries`, `--timeout`, `--resume`
- [x] Outputs: `results/<TASK_ID>.json`, `logs/<TASK_ID>.log`

### Phase 2: ðŸ§ª Testing
- [x] Happy path, timeout, retry, resume correctness

### Phase 3: ðŸ“š Documentation
- [x] Examples for `@rules/execute-task` & `@rules/execute-TASK-###`

### Phase 4: ðŸ§¹ Cleanup
- [x] Exit codes reflect pass/fail

### Phase 5: ðŸ’¾ Commit
- [x] Commit

## Acceptance Criteria
- [x] Picker lists only runnable tasks (deps satisfied)

## Completion Summary

**Status**: âœ… COMPLETED

**Implementation Details**:
- âœ… Created `SingleTaskRunner` class with comprehensive task execution logic
- âœ… Implemented CLI commands: `execute-task`, `list-runnable-tasks`, `pick-task`
- âœ… Added retry logic with exponential backoff
- âœ… Implemented timeout handling and resume functionality
- âœ… Created result and log file generation
- âœ… Added dependency checking and task validation

**Generated Files**:
- âœ… `builder/core/cli/task_runner_commands.py` - Main implementation
- âœ… `.cb/commands/execute-task.md` - Command definition
- âœ… `.cursor/rules/execute-task.md` - Cursor rule integration
- âœ… `cb_docs/tasks/results/` - Result JSON files
- âœ… `cb_docs/tasks/logs/` - Execution log files

**Testing Results**:
- âœ… `execute-task` command works with specific task IDs
- âœ… `--pick` option correctly selects highest priority runnable tasks
- âœ… `list-runnable-tasks` shows all available tasks with dependencies
- âœ… `pick-task` command works for task selection
- âœ… Result JSON files contain comprehensive execution data
- âœ… Exit codes properly reflect success/failure

**Key Features**:
- **Single Task Execution**: Run individual tasks with full control
- **Automatic Task Picking**: Select highest priority runnable tasks
- **Retry Logic**: Configurable retries with exponential backoff
- **Timeout Handling**: Prevent infinite task execution
- **Resume Support**: Continue interrupted tasks
- **Comprehensive Results**: Detailed JSON results with timing and output
- **Dependency Validation**: Only execute tasks with satisfied dependencies

**Integration Points**:
- Integrated with `CursorAgentOrchestrator` for task management
- Uses existing task status and dependency system
- Generates results in `cb_docs/tasks/results/` directory
- Provides CLI interface for task execution
- Supports both manual and automated task selection
